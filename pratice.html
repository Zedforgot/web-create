<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>

// [
//     {"div":'7777'},
//     {"div|box2":'6'},
//     [
//       {"p|text":'及凤飞飞九二五九'},
//       "a",
//       [
//         "span"
//       ]
//     ],
//     "div",
//     "p"
//   ]
  //网页里塞html标签
class htmlCreate {
  constructor(children) {
    this.n=0//元素为对象或者单个元素下自增，取n值给每个元素做标记
    this.html(children||[])//给类赋值属性
  }
  html(children) {
    for (let i = 0; i < children.length; i++) {
      if (Object.prototype.toString.call(children[i])==='[object Object]') {
        this.n++
       //将文本插入元素中
       for(let key in children[i]){
        this[this.n+JSON.stringify(children[i])]= document.createElement(key.split('|')[0])//属性为对应的标签
        this.appendElement(this.n+JSON.stringify(children[i]),arguments[1],children[i][key])//children[i][key]文本放入元素中
       }
      } else if(Object.prototype.toString.call(children[i])==='[object Array]'){
        // 元素内含嵌套,数组情况下,将数组中元素放入前一个元素内
         this.html(children[i],typeof children[i-1]==='object'?this.n+JSON.stringify(children[i-1]):this.n+children[i-1])
      }else{// 单个元素,非数组情况下
        this.n++
this[this.n+children[i]] = document.createElement(children[i].split('|')[0])//属性为对应的标签
        // this.appendElement(children[i],arguments[1])//考虑到需要放入非body内元素中
        this.appendElement(this.n+children[i],arguments[1])//用split切分取html标签方便给className
      }
    }
  }
  appendElement(child, el,text) {
    if(text){
        this[child].innerHTML=text
    }
    if(el){
      this[el].appendChild(this[child])//放入el元素中
    }else{
      document.body.appendChild(this[child])//放入body中
    }
  }
}

  //对应html标签加特定的class类名
class classNameCreate extends htmlCreate{
  constructor(props) {
    super(props)
    let element=Object.keys(this).filter(item=>item!='n'&&item.indexOf('|')!=-1)
    //筛选出有|符号的dom元素赋值clss类名
    this.cssClassName(element)
  }
  cssClassName(children){
    children.forEach((item) => {
        if(item.indexOf('{')!=-1){//如果元素有大括号的话，那么拿到key，给key（dom元素）赋值clss类名
          //拆封元素拿到元素中|符号之后的字符串为元素class类名
this[item].className=item.split('|')[1].split('"')[0]
        }else{//如果元素无大括号是普通字符串的话，那么拿到|之后字符串，给dom元素赋值clss类名
          this[item].className=item.split('|')[1]
        }
      });
  }
}
  //对应html标签加特定的id名
class idNameCreate extends classNameCreate{
  constructor(props){
    super(props)
    this.cssIdName(props)
  }
  cssIdName(children){

  }
}
let html=new idNameCreate(
  [
    {"div":'7777'},
    {"div|box2":'6'},
    "p",
    [
      {"p|text":'及凤飞飞九二五九'},
      "p",
    {"div|box2":'6'},
      [
        "span"
      ]
    ],
    "div|s",
    "p"
  ]
  )
  class cssCreate extends htmlCreate{
constructor(props){
super(props)
// console.log(props)
}
  }
</script>
</body>
</html>