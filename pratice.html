<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>
class Father{
constructor(){
}
a=1
}
class Son extends Father{
  constructor(props){
    super(props)
    // console.log(this)
  }
}
new Son()
// [
//     {"div":'7777'},
//     {"div|box2":'6'},
//     [
//       {"p|text":'及凤飞飞九二五九'},
//       "a",
//       [
//         "span"
//       ]
//     ],
//     "div",
//     "p"
//   ]
  //网页里塞html标签
class htmlCreate {
  constructor(children) {
    this.html.call(this,children||[])//给类赋值属性
  }
   n=0

  html(children) {
    for (let i = 0; i < children.length; i++) {
      if (Object.prototype.toString.call(children[i])==='[object Object]') {
        this.n++
       //将文本插入元素中
       for(let key in children[i]){
        this[JSON.stringify(children[i])+this.n]= document.createElement(key.split('|')[0])//属性为对应的标签
        // console.log(JSON.stringify(children[i]))
        // console.log(JSON.stringify(children[i])+this.n)
        // console.log(JSON.stringify(children[i])+this.n)
        // console.log(this[children[i]])
        // debugger
      // console.log(arguments[1])
      // console.log(this[arguments[1]])
        this.appendElement(JSON.stringify(children[i])+this.n,arguments[1],children[i][key])//children[i][key]文本放入元素中
       }
      } else if(Object.prototype.toString.call(children[i])==='[object Array]'){
        // 元素内含嵌套,数组情况下,将数组中元素放入前一个元素内
         this.html(children[i],typeof children[i-1]==='object'?JSON.stringify(children[i-1])+this.n:children[i-1]+this.n)
      }else{// 单个元素,非数组情况下
        this.n++
this[children[i]+this.n] = document.createElement(children[i].split('|')[0])//属性为对应的标签
        // this.appendElement(children[i],arguments[1])//考虑到需要放入非body内元素中
        this.appendElement(children[i]+this.n,arguments[1])//用split切分取html标签方便给className
      }
    }
  }
  appendElement(child, el,text) {
    console.log(child)
    if(text){
        this[child].innerHTML=text
    }
    if(el){
      this[el].appendChild(this[child])//放入el元素中
    }else{
      document.body.appendChild(this[child])//放入body中
    }
    // el?
    // this[el].appendChild(this[child])//放入el元素中
    // :
    // document.body.appendChild(this[child])//放入body中
  }
}

  //对应html标签加特定的class类名
class classNameCreate extends htmlCreate{
  constructor(props) {
    super(props)
    // console.log(props)
    this.cssClassName(props)
  }
  cssClassName(children){
      children.forEach((item) => {
        if(Object.prototype.toString.call(item)==='[object Array]'){
          //数组的话递归

        }else if(Object.prototype.toString.call(item)==='[object Object]'){
          //如果元素是对象的话，那么拿到key，给key（dom元素）赋值clss类名
          console.log(item)
          // console.log(this[item])
          // Object.keys(item)[0].split('|')[1]!==''?this[JSON.stringify(item)].className=Object.keys(item)[0].split('|')[1]:''
        }else{
          // console.log(this[item])
          //如果元素是字符串，那么获取dom元素，赋值clss类名
          if(item.split('|')[1]!==''){
          this[item].className=item.split('|')[1]
          }
        }
      });
  }
}

  //对应html标签加特定的id名
class idNameCreate extends classNameCreate{
  constructor(props){
    super(props)
    this.cssIdName(props)
  }
  cssIdName(children){

  }
}
let html=new idNameCreate(
  [
    {"div":'7777'},
    {"div|box2":'6'},
    [
      {"p|text":'及凤飞飞九二五九'},
      "a",
    {"div|box2":'6'},
      [
        "span"
      ]
    ],
    "div|s",
    "p"
  ]
  )
  class cssCreate extends htmlCreate{
constructor(props){
super(props)
// console.log(props)
}
  }
</script>
</body>
</html>